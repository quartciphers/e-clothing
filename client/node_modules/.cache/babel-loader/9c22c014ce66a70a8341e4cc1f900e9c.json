{"ast":null,"code":"import { takeEvery, call } from \"@redux-saga/core/effects\";\nimport { ShopActionTypes } from './shop.types';\nimport { firestore, convertCollectionSnapshotToMap } from '../../firebase/firebase.utlis';\nimport { fetchCollectionsSuccess, fetchCollectionsFailure } from './shop.actions';\nexport function* fetchCollectionsAsync() {\n  yield console.log(\"here\");\n  const collectionRef = firestore.collection('collections');\n  const snapshot = yield collectionRef.get();\n  const collectionsMap = yield call(convertCollectionSnapshotToMap(snapshot)); //   dispatch(fetchCollectionsStart());\n  // collectionRef.get()\n  // .then(snapshot =>{\n  //        const collectionMap = convertCollectionSnapshotToMap(snapshot);\n  //          dispatch(fetchCollectionsSuccess(collectionMap));\n  //       })\n  // .catch(error =>{\n  //         dispatch(fetchCollectionsFailure(error.message));\n  //       });\n}\nexport function* fetchCollectionsStart() {\n  yield takeEvery(ShopActionTypes.FETCH_COLLECTIONS_START, fetchCollectionsAsync);\n}","map":{"version":3,"sources":["/home/qc/RayDcode/React/crwn-clothing/src/redux/shop/shop.saga.js"],"names":["takeEvery","call","ShopActionTypes","firestore","convertCollectionSnapshotToMap","fetchCollectionsSuccess","fetchCollectionsFailure","fetchCollectionsAsync","console","log","collectionRef","collection","snapshot","get","collectionsMap","fetchCollectionsStart","FETCH_COLLECTIONS_START"],"mappings":"AAAA,SAASA,SAAT,EAAmBC,IAAnB,QAA+B,0BAA/B;AAEA,SAAQC,eAAR,QAA8B,cAA9B;AAEA,SAASC,SAAT,EAAmBC,8BAAnB,QAAyD,+BAAzD;AAEA,SAAQC,uBAAR,EAAgCC,uBAAhC,QAA8D,gBAA9D;AAEA,OAAO,UAAUC,qBAAV,GAAiC;AAGpC,QAAMC,OAAO,CAACC,GAAR,CAAY,MAAZ,CAAN;AACA,QAAMC,aAAa,GAAGP,SAAS,CAACQ,UAAV,CAAqB,aAArB,CAAtB;AACA,QAAMC,QAAQ,GAAG,MAAMF,aAAa,CAACG,GAAd,EAAvB;AACA,QAAMC,cAAc,GAAG,MAAMb,IAAI,CAACG,8BAA8B,CAACQ,QAAD,CAA/B,CAAjC,CANoC,CAQhC;AACA;AACA;AAEA;AACA;AAEA;AACA;AAEA;AAEA;AACP;AAED,OAAO,UAAUG,qBAAV,GAAiC;AACpC,QAAMf,SAAS,CACXE,eAAe,CAACc,uBADL,EAC6BT,qBAD7B,CAAf;AAGH","sourcesContent":["import { takeEvery,call } from \"@redux-saga/core/effects\";\n\nimport {ShopActionTypes} from './shop.types';\n\nimport { firestore,convertCollectionSnapshotToMap } from '../../firebase/firebase.utlis';\n\nimport {fetchCollectionsSuccess,fetchCollectionsFailure} from './shop.actions'\n\nexport function* fetchCollectionsAsync(){\n\n\n    yield console.log(\"here\");\n    const collectionRef = firestore.collection('collections');\n    const snapshot = yield collectionRef.get();\n    const collectionsMap = yield call(convertCollectionSnapshotToMap(snapshot));\n\n        //   dispatch(fetchCollectionsStart());\n        // collectionRef.get()\n        // .then(snapshot =>{\n\n        //        const collectionMap = convertCollectionSnapshotToMap(snapshot);\n        //          dispatch(fetchCollectionsSuccess(collectionMap));\n         \n        //       })\n        // .catch(error =>{\n\n        //         dispatch(fetchCollectionsFailure(error.message));\n                  \n        //       });\n}\n\nexport function* fetchCollectionsStart(){\n    yield takeEvery(\n        ShopActionTypes.FETCH_COLLECTIONS_START,fetchCollectionsAsync\n        );\n}"]},"metadata":{},"sourceType":"module"}